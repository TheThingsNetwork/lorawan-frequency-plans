{
  "title": "Frequency Plan",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "end-device-descriptions": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/EndDeviceFrequencyPlan"
      }
    },
    "gateway-descriptions": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/GatewayFrequencyPlan"
      }
    }
  },
  "required": ["end-device-descriptions", "gateway-descriptions"],
  "definitions": {
    "EndDeviceFrequencyPlan": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "band-id", "name", "description", "country-codes", "endorsed"],
      "oneOf": [
        {
          "required": ["file"],
          "not": {
            "anyOf": [{ "required": ["base-id"] }, { "required": ["modifiers"] }]
          }
        },
        {
          "required": ["base-id", "modifiers"],
          "not": {
            "anyOf": [{ "required": ["file"] }]
          }
        }
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "ID of the frequency plan."
        },
        "band-id": {
          "type": "string",
          "description": "ID of the LoRaWAN band (needs to match band-id in the definition)",
          "enum" : [{{.BandIDs}}]
        },
        "name": {
          "type": "string",
          "description": "Name of the frequency plan. In the format '{Region} {Frequency range} MHz'."
        },
        "description": {
          "type": "string",
          "description": "Description of the frequency plan."
        },
        "base-frequency": {
          "type": "integer",
          "description": "Base frequency in MHz for hardware support (433, 470, 868 or 915) [MHz]",
          "enum": [433, 470, 868, 915, 2450]
        },
        "file": {
          "type": "string",
          "description": "File of the frequency plan definition.",
          "enum": [{{.EndDeviceFiles}}]
        },
        "base-id": {
          "type": "string",
          "description": "ID that this frequency plan extends (refers to id of another frequency plan).",
          "enum" : [{{.EndDeviceBaseIDs}}]
        },
        "modifiers": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "string",
            "enum":[{{.EndDeviceModifiers}}],
            "description": "Modifier addressed by filename."
          },
          "description": "List of files containing the modifiers used to extend the `base-id` end-device."
        },
        "endorsed": {
          "type": "boolean",
          "description": "This is one of the endorsed frequency plans for this band-id."
        },
        "country-codes": {
          "type": "array",
          "uniqueItems": true,
          "description": "Countries that this frequency plan can be used in.",
          "items": {
            "type": "string",
            "enum": [
              "worldwide",
              "af",
              "ax",
              "al",
              "dz",
              "as",
              "ad",
              "ao",
              "ai",
              "aq",
              "ag",
              "ar",
              "am",
              "an",
              "aw",
              "au",
              "at",
              "az",
              "bh",
              "bs",
              "bd",
              "bb",
              "by",
              "be",
              "bz",
              "bj",
              "bm",
              "bt",
              "bo",
              "bq",
              "ba",
              "bw",
              "bv",
              "br",
              "io",
              "bn",
              "bg",
              "bf",
              "bi",
              "kh",
              "cm",
              "ca",
              "cv",
              "ky",
              "cf",
              "td",
              "cl",
              "cn",
              "cx",
              "cc",
              "co",
              "km",
              "cg",
              "cd",
              "ck",
              "cr",
              "ci",
              "hr",
              "cu",
              "cw",
              "cy",
              "cz",
              "dk",
              "dj",
              "dm",
              "do",
              "ec",
              "eg",
              "sv",
              "gq",
              "er",
              "ee",
              "et",
              "fk",
              "fo",
              "fj",
              "fi",
              "fr",
              "gf",
              "pf",
              "tf",
              "ga",
              "gm",
              "ge",
              "de",
              "gh",
              "gi",
              "gr",
              "gl",
              "gd",
              "gp",
              "gu",
              "gt",
              "gg",
              "gn",
              "gw",
              "gy",
              "ht",
              "hm",
              "va",
              "hn",
              "hk",
              "hu",
              "is",
              "in",
              "id",
              "ir",
              "iq",
              "ie",
              "im",
              "il",
              "it",
              "jm",
              "jp",
              "je",
              "jo",
              "kz",
              "ke",
              "ki",
              "kp",
              "kr",
              "kw",
              "kg",
              "la",
              "lv",
              "lb",
              "ls",
              "lr",
              "ly",
              "li",
              "lt",
              "lu",
              "mo",
              "mk",
              "mg",
              "mw",
              "my",
              "mv",
              "ml",
              "mt",
              "mh",
              "mq",
              "mr",
              "mu",
              "yt",
              "mx",
              "fm",
              "md",
              "mc",
              "mn",
              "me",
              "ms",
              "ma",
              "mz",
              "mm",
              "na",
              "nr",
              "np",
              "nl",
              "nc",
              "nz",
              "ni",
              "ne",
              "ng",
              "nu",
              "nf",
              "mp",
              "no",
              "om",
              "pk",
              "pw",
              "ps",
              "pa",
              "pg",
              "py",
              "pe",
              "ph",
              "pn",
              "pl",
              "pt",
              "pr",
              "qa",
              "re",
              "ro",
              "ru",
              "rw",
              "bl",
              "sh",
              "kn",
              "lc",
              "mf",
              "pm",
              "vc",
              "ws",
              "sm",
              "st",
              "sa",
              "sn",
              "rs",
              "sc",
              "sl",
              "sg",
              "sx",
              "sk",
              "si",
              "sb",
              "so",
              "za",
              "gs",
              "ss",
              "es",
              "lk",
              "sd",
              "sr",
              "sj",
              "sz",
              "se",
              "ch",
              "sy",
              "tw",
              "tj",
              "tz",
              "th",
              "tl",
              "tg",
              "tk",
              "to",
              "tt",
              "tn",
              "tr",
              "tm",
              "tc",
              "tv",
              "ug",
              "ua",
              "ae",
              "gb",
              "us",
              "um",
              "uy",
              "uz",
              "vu",
              "ve",
              "vn",
              "vg",
              "vi",
              "wf",
              "eh",
              "ye",
              "zm",
              "zw"
            ]
          }
        }
      }
    },
    "GatewayFrequencyPlan": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "band-id", "name", "description", "country-codes", "endorsed"],
      "oneOf": [
        {
          "required": ["file"],
          "not": {
            "anyOf": [{ "required": ["base-id"] }, { "required": ["modifiers"] }]
          }
        },
        {
          "required": ["base-id", "modifiers"],
          "not": {
            "anyOf": [{ "required": ["file"] }]
          }
        }
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "ID of the frequency plan."
        },
        "band-id": {
          "type": "string",
          "description": "ID of the LoRaWAN band (needs to match band-id in the definition)",
          "enum" : [{{.BandIDs}}]
        },
        "name": {
          "type": "string",
          "description": "Name of the frequency plan. In the format '{Region} {Frequency range} MHz'."
        },
        "description": {
          "type": "string",
          "description": "Description of the frequency plan."
        },
        "base-frequency": {
          "type": "integer",
          "description": "Base frequency in MHz for hardware support (433, 470, 868 or 915) [MHz]",
          "enum": [433, 470, 868, 915, 2450]
        },
        "file": {
          "type": "string",
          "description": "File of the frequency plan definition.",
          "enum": [{{.GatewayFiles}}]
        },
        "base-id": {
          "type": "string",
          "description": "ID that this frequency plan extends (refers to id of another frequency plan).",
          "enum" : [{{.GatewayBaseIDs}}]
        },
        "modifiers": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "string",
            "enum":[{{.GatewayModifiers}}],
            "description": "Modifier addressed by filename."
          },
          "description": "List of files containing the modifiers used to extend the `base-id` end-device."
        },
        "endorsed": {
          "type": "boolean",
          "description": "This is one of the endorsed frequency plans for this band-id."
        },
        "country-codes": {
          "type": "array",
          "uniqueItems": true,
          "description": "Countries that this frequency plan can be used in.",
          "items": {
            "type": "string",
            "enum": [
              "worldwide",
              "af",
              "ax",
              "al",
              "dz",
              "as",
              "ad",
              "ao",
              "ai",
              "aq",
              "ag",
              "ar",
              "am",
              "an",
              "aw",
              "au",
              "at",
              "az",
              "bh",
              "bs",
              "bd",
              "bb",
              "by",
              "be",
              "bz",
              "bj",
              "bm",
              "bt",
              "bo",
              "bq",
              "ba",
              "bw",
              "bv",
              "br",
              "io",
              "bn",
              "bg",
              "bf",
              "bi",
              "kh",
              "cm",
              "ca",
              "cv",
              "ky",
              "cf",
              "td",
              "cl",
              "cn",
              "cx",
              "cc",
              "co",
              "km",
              "cg",
              "cd",
              "ck",
              "cr",
              "ci",
              "hr",
              "cu",
              "cw",
              "cy",
              "cz",
              "dk",
              "dj",
              "dm",
              "do",
              "ec",
              "eg",
              "sv",
              "gq",
              "er",
              "ee",
              "et",
              "fk",
              "fo",
              "fj",
              "fi",
              "fr",
              "gf",
              "pf",
              "tf",
              "ga",
              "gm",
              "ge",
              "de",
              "gh",
              "gi",
              "gr",
              "gl",
              "gd",
              "gp",
              "gu",
              "gt",
              "gg",
              "gn",
              "gw",
              "gy",
              "ht",
              "hm",
              "va",
              "hn",
              "hk",
              "hu",
              "is",
              "in",
              "id",
              "ir",
              "iq",
              "ie",
              "im",
              "il",
              "it",
              "jm",
              "jp",
              "je",
              "jo",
              "kz",
              "ke",
              "ki",
              "kp",
              "kr",
              "kw",
              "kg",
              "la",
              "lv",
              "lb",
              "ls",
              "lr",
              "ly",
              "li",
              "lt",
              "lu",
              "mo",
              "mk",
              "mg",
              "mw",
              "my",
              "mv",
              "ml",
              "mt",
              "mh",
              "mq",
              "mr",
              "mu",
              "yt",
              "mx",
              "fm",
              "md",
              "mc",
              "mn",
              "me",
              "ms",
              "ma",
              "mz",
              "mm",
              "na",
              "nr",
              "np",
              "nl",
              "nc",
              "nz",
              "ni",
              "ne",
              "ng",
              "nu",
              "nf",
              "mp",
              "no",
              "om",
              "pk",
              "pw",
              "ps",
              "pa",
              "pg",
              "py",
              "pe",
              "ph",
              "pn",
              "pl",
              "pt",
              "pr",
              "qa",
              "re",
              "ro",
              "ru",
              "rw",
              "bl",
              "sh",
              "kn",
              "lc",
              "mf",
              "pm",
              "vc",
              "ws",
              "sm",
              "st",
              "sa",
              "sn",
              "rs",
              "sc",
              "sl",
              "sg",
              "sx",
              "sk",
              "si",
              "sb",
              "so",
              "za",
              "gs",
              "ss",
              "es",
              "lk",
              "sd",
              "sr",
              "sj",
              "sz",
              "se",
              "ch",
              "sy",
              "tw",
              "tj",
              "tz",
              "th",
              "tl",
              "tg",
              "tk",
              "to",
              "tt",
              "tn",
              "tr",
              "tm",
              "tc",
              "tv",
              "ug",
              "ua",
              "ae",
              "gb",
              "us",
              "um",
              "uy",
              "uz",
              "vu",
              "ve",
              "vn",
              "vg",
              "vi",
              "wf",
              "eh",
              "ye",
              "zm",
              "zw"
            ]
          }
        }
      }
    }
  }
}
